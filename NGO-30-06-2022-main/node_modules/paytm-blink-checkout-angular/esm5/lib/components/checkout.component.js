import { CheckoutService } from './../services/checkout.service';
import { Component } from '@angular/core';
import CONSTANTS from '../constants';
import * as ɵngcc0 from '@angular/core';
var CheckoutComponent = /** @class */ (function () {
    function CheckoutComponent(checkoutService) {
        this.checkoutService = checkoutService;
    }
    CheckoutComponent.prototype.ngAfterViewInit = function () {
        this.subs = this.checkoutService
            .checkoutJsInstance$
            .subscribe(this.invoke);
    };
    CheckoutComponent.prototype.invoke = function (checkoutJsInstance) {
        if (checkoutJsInstance && checkoutJsInstance.invoke) {
            try {
                checkoutJsInstance.invoke();
            }
            catch (error) {
                console.error(CONSTANTS.ERRORS.INVOKE, error);
            }
        }
    };
    CheckoutComponent.prototype.ngOnDestroy = function () {
        if (this.subs) {
            this.subs.unsubscribe();
        }
    };
    /** @nocollapse */
    CheckoutComponent.ctorParameters = function () { return [
        { type: CheckoutService }
    ]; };
CheckoutComponent.ɵfac = function CheckoutComponent_Factory(t) { return new (t || CheckoutComponent)(ɵngcc0.ɵɵdirectiveInject(CheckoutService)); };
CheckoutComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: CheckoutComponent, selectors: [["paytm-checkout"]], decls: 2, vars: 1, consts: [[3, "id"]], template: function CheckoutComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "div", 0);
        ɵngcc0.ɵɵelement(1, "div");
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("id", ctx.checkoutService.checkoutJsContainerId);
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CheckoutComponent, [{
        type: Component,
        args: [{
                selector: 'paytm-checkout',
                template: "<div [id]=\"checkoutService.checkoutJsContainerId\"><div>"
            }]
    }], function () { return [{ type: CheckoutService }]; }, null); })();
    return CheckoutComponent;
}());
export { CheckoutComponent };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hlY2tvdXQuY29tcG9uZW50LmpzIiwic291cmNlcyI6WyJuZzovcGF5dG0tYmxpbmstY2hlY2tvdXQtYW5ndWxhci9saWIvY29tcG9uZW50cy9jaGVja291dC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBQ2pFLE9BQU8sRUFBRSxTQUFTLEVBQTRCLE1BQU0sZUFBZSxDQUFDO0FBRXBFLE9BQU8sU0FBUyxNQUFNLGNBQWMsQ0FBQzs7QUFFckM7QUFFVSxJQUtSLDJCQUFxQixlQUFnQztBQUFJLFFBQXBDLG9CQUFlLEdBQWYsZUFBZSxDQUFpQjtBQUFDLElBQUUsQ0FBQztBQUMzRCxJQUNFLDJDQUFlLEdBQWY7QUFBYyxRQUNaLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLGVBQWU7QUFDcEMsYUFBTyxtQkFBbUI7QUFDMUIsYUFBTyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzlCLElBQUUsQ0FBQztBQUVILElBQUUsa0NBQU0sR0FBTixVQUFPLGtCQUFrQjtBQUFJLFFBQzNCLElBQUksa0JBQWtCLElBQUksa0JBQWtCLENBQUMsTUFBTSxFQUFFO0FBQ3pELFlBQU0sSUFBSTtBQUNWLGdCQUFRLGtCQUFrQixDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ3BDLGFBQU87QUFBQyxZQUFBLE9BQU8sS0FBSyxFQUFFO0FBQ3RCLGdCQUFRLE9BQU8sQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDdEQsYUFBTztBQUNQLFNBQUs7QUFDTCxJQUFFLENBQUM7QUFFSCxJQUFFLHVDQUFXLEdBQVg7QUFBYyxRQUNaLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtBQUNuQixZQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDOUIsU0FBSztBQUNMLElBQUUsQ0FBQyxDQXpCSztBQUFDOzhCQUpSLFNBQVMsU0FBQyxoREFJcUI7UUFIOUIsUUFBUSxFQUFFLGxCQUlhLGdCQVZoQixlQUFlO0FBTUksQUFORDtZQU96QixRQUFRLEVBQUUsMkRBQXlELGtCQUNwRTs7Ozs7Ozs7Ozs7Ozs7eUVBUm1DO0FBQUMsSUFtQ3JDLHdCQUFDO0FBQ0EsQ0FEQSxBQTlCRCxJQThCQztBQUNELFNBM0JhLGlCQUFpQjtBQUFJIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hlY2tvdXRTZXJ2aWNlIH0gZnJvbSAnLi8uLi9zZXJ2aWNlcy9jaGVja291dC5zZXJ2aWNlJztcbmltcG9ydCB7IENvbXBvbmVudCwgT25EZXN0cm95LCBBZnRlclZpZXdJbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCBDT05TVEFOVFMgZnJvbSAnLi4vY29uc3RhbnRzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAncGF5dG0tY2hlY2tvdXQnLFxuICB0ZW1wbGF0ZTogYDxkaXYgW2lkXT1cImNoZWNrb3V0U2VydmljZS5jaGVja291dEpzQ29udGFpbmVySWRcIj48ZGl2PmAsXG59KVxuZXhwb3J0IGNsYXNzIENoZWNrb3V0Q29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95IHtcbiAgcHJpdmF0ZSBzdWJzOiBTdWJzY3JpcHRpb247XG5cbiAgY29uc3RydWN0b3IocmVhZG9ubHkgY2hlY2tvdXRTZXJ2aWNlOiBDaGVja291dFNlcnZpY2UpIHt9XG5cbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuICAgIHRoaXMuc3VicyA9IHRoaXMuY2hlY2tvdXRTZXJ2aWNlXG4gICAgICAuY2hlY2tvdXRKc0luc3RhbmNlJFxuICAgICAgLnN1YnNjcmliZSh0aGlzLmludm9rZSk7XG4gIH1cblxuICBpbnZva2UoY2hlY2tvdXRKc0luc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKGNoZWNrb3V0SnNJbnN0YW5jZSAmJiBjaGVja291dEpzSW5zdGFuY2UuaW52b2tlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjaGVja291dEpzSW5zdGFuY2UuaW52b2tlKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKENPTlNUQU5UUy5FUlJPUlMuSU5WT0tFLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc3Vicykge1xuICAgICAgdGhpcy5zdWJzLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9XG59XG4iXX0=
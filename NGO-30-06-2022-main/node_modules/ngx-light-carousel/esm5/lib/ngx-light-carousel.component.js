import { __decorate, __metadata, __param } from "tslib";
import { isPlatformBrowser } from '@angular/common';
import { AfterViewInit, Component, ContentChild, ContentChildren, ElementRef, EmbeddedViewRef, EventEmitter, HostListener, Inject, Input, NgZone, OnChanges, OnDestroy, OnInit, Output, PLATFORM_ID, QueryList, Renderer2, TemplateRef, ViewChild, ViewContainerRef, ViewEncapsulation, } from '@angular/core';
import * as Hammer from 'hammerjs';
import { interval, Subject } from 'rxjs';
import { throttle } from 'rxjs/operators';
import { NgxCarouselItemDirective } from './ngx-light-carousel-item.directive';
import { ngxLightOptions } from './ngx-light-carousel.model';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@angular/common';

var _c0 = ["carouselPrev"];
var _c1 = ["carouselNext"];
var _c2 = ["carouselDot"];
var _c3 = ["carouselProgress"];
var _c4 = ["infiniteContainer"];
var _c5 = ["carouselContent"];
var _c6 = ["sliderElement"];
var _c7 = ["prevElement"];
var _c8 = ["nextElement"];
var _c9 = ["progressElement"];
function NgxCarouselComponent_div_3_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
function NgxCarouselComponent_div_3_Template(rf, ctx) { if (rf & 1) {
    var _r8 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 7, 8);
    ɵngcc0.ɵɵlistener("click", function NgxCarouselComponent_div_3_Template_div_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r8); var ctx_r7 = ɵngcc0.ɵɵnextContext(); return ctx_r7.click(ctx_r7.prevSlide); });
    ɵngcc0.ɵɵtemplate(2, NgxCarouselComponent_div_3_ng_container_2_Template, 1, 0, "ng-container", 9);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r1 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", ctx_r1.contentPrev);
} }
function NgxCarouselComponent_div_4_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
function NgxCarouselComponent_div_4_Template(rf, ctx) { if (rf & 1) {
    var _r12 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 10, 11);
    ɵngcc0.ɵɵlistener("click", function NgxCarouselComponent_div_4_Template_div_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r12); var ctx_r11 = ɵngcc0.ɵɵnextContext(); return ctx_r11.click(ctx_r11.nextSlide); });
    ɵngcc0.ɵɵtemplate(2, NgxCarouselComponent_div_4_ng_container_2_Template, 1, 0, "ng-container", 9);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r2 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", ctx_r2.contentNext);
} }
function NgxCarouselComponent_div_5_li_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
var _c10 = function (a0) { return { active: a0 }; };
function NgxCarouselComponent_div_5_li_1_Template(rf, ctx) { if (rf & 1) {
    var _r18 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "li", 14);
    ɵngcc0.ɵɵlistener("click", function NgxCarouselComponent_div_5_li_1_Template_li_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r18); var i_r15 = ctx.index; var ctx_r17 = ɵngcc0.ɵɵnextContext(2); return ctx_r17.scrollToIndex(i_r15); });
    ɵngcc0.ɵɵtemplate(1, NgxCarouselComponent_div_5_li_1_ng_container_1_Template, 1, 0, "ng-container", 9);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var i_r15 = ctx.index;
    var ctx_r13 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction1(2, _c10, ctx_r13.current == i_r15));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", ctx_r13.dotElm);
} }
function NgxCarouselComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 12);
    ɵngcc0.ɵɵtemplate(1, NgxCarouselComponent_div_5_li_1_Template, 2, 4, "li", 13);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r3 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngForOf", ctx_r3.dots);
} }
function NgxCarouselComponent_div_6_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
function NgxCarouselComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", null, 15);
    ɵngcc0.ɵɵtemplate(2, NgxCarouselComponent_div_6_ng_container_2_Template, 1, 0, "ng-container", 9);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r4 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", ctx_r4.progressElm);
} }
var _c11 = [[["", "ngx-light-carousel-container", ""]]];
var _c12 = ["[ngx-light-carousel-container]"];
var NgxCarouselComponent = /** @class */ (function () {
    function NgxCarouselComponent(platformId, _renderer, zone) {
        var _this = this;
        this.platformId = platformId;
        this._renderer = _renderer;
        this.zone = zone;
        this.current = 0;
        this.currentChange = new EventEmitter();
        this.infiniteElmRefs = [];
        this.timeLeft = 2000;
        this.dotsLoading = true;
        this.loading = true;
        this.grabbing = false;
        this.arrowsVisible = true;
        this.initialized = false;
        this.addPanningClass = function () {
            _this.grabbing = true;
            _this._renderer.addClass(_this.elements().rootElement, 'grabbing');
            _this._renderer.addClass(_this.elements().containerElement, 'panning');
        };
        this.removePanningClass = function () {
            _this.grabbing = false;
            _this._renderer.removeClass(_this.elements().rootElement, 'grabbing');
            _this._renderer.removeClass(_this.elements().containerElement, 'panning');
        };
        this.addAnimationClass = function () {
            if (_this.options.animation.animationClass !== '') {
                _this._renderer.addClass(_this.elements().containerElement, _this.options.animation.animationClass);
            }
        };
        this.removeAnimationClass = function () {
            if (_this.options.animation.animationClass !== '') {
                _this._renderer.removeClass(_this.elements().containerElement, _this.options.animation.animationClass);
            }
        };
        this.panTo = function (value) {
            if (isPlatformBrowser(_this.platformId)) {
                _this._renderer.setStyle(_this.elements().containerElement, 'transform', "translate3d(" + value + "px, 0,0)");
            }
            else {
                _this._renderer.setStyle(_this.elements().containerElement, 'transform', "translate3d(" + value + "%, 0,0)");
            }
        };
        this.currentIndex = function (number) {
            if (!_this.infiniteMode() && number !== undefined) {
                if (number >= 0) {
                    if (number < 0) {
                        _this.current = 0;
                        // } else if (this.currentBreakpoint().number % 1 != 0 && this.current - 1 > this.data.length) {
                        // 	this.current = this.data.length + 1 - this.currentBreakpoint().number
                    }
                    else if (number > _this.data.length - _this.currentBreakpoint().number) {
                        _this.current = _this.data.length - _this.currentBreakpoint().number;
                    }
                    else {
                        _this.current = number;
                    }
                }
            }
            else if (number != undefined) {
                _this.current = number;
            }
            _this.zone.run(function () {
                _this.current = _this.current;
            });
            return _this.current;
        };
        this.slowOnOutOfBounds = function (e) {
            if (!_this.options.infinite && _this.outOfBound()) {
                e.deltaX *= 0.2;
                e.deltaY *= 0.2;
            }
            return e;
        };
        this.scrollBackToEdge = function () {
            var root = _this.elements().rootElement.getBoundingClientRect();
            var container = _this.elements().containerElement.getBoundingClientRect();
            if (container.right < root.right) {
                _this.goToIndex(_this.visibleElements());
            }
            if (root.left - container.left < 0) {
                _this.goToIndex(0);
            }
        };
        this.outOfBound = function () {
            var root = _this.elements().rootElement.getBoundingClientRect();
            var container = _this.elements().containerElement.getBoundingClientRect();
            if (root.right - container.right > 0) {
                _this.currentIndex(_this.data.length - 1);
                return true;
            }
            if (root.left - container.left < 0) {
                _this.currentIndex(0);
                return true;
            }
            return false;
        };
        this.detectSwipingLeft = function (e) {
            return e.velocityX < -_this.options.swipe.swipeVelocity;
        };
        this.detectSwipingRight = function (e) {
            return e.velocityX > _this.options.swipe.swipeVelocity;
        };
        this.detectPanningLeft = function (e) {
            return e.velocityX < 1 && e.distance < -_this.carouselItemWidthVar * 1.5;
        };
        this.detectPanningRight = function (e) {
            return e.velocityX > 1 && e.distance < _this.carouselItemWidthVar * 1.5;
        };
        this.nextSlide = function () {
            _this.addAnimationClass();
            if (_this.data.length > 1) {
                if (!_this.infiniteMode() && _this.visibleElements() < _this.currentIndex()) {
                    _this.goToIndex(_this.visibleElements());
                }
                else {
                    _this.goToIndex(_this.currentIndex() + 1);
                }
            }
            setTimeout(function () {
                _this.removeAnimationClass();
                _this.infiniteHandler();
            }, _this.options.animation.animationTime + 40);
        };
        this.prevSlide = function () {
            _this.addAnimationClass();
            if (_this.data.length > 1) {
                if (!_this.infiniteMode() && 0 >= _this.currentIndex()) {
                    _this.goToIndex(_this.currentIndex(0));
                }
                else {
                    _this.goToIndex(_this.currentIndex() - 1);
                }
            }
            setTimeout(function () {
                _this.removeAnimationClass();
                _this.infiniteHandler();
            }, _this.options.animation.animationTime + 40);
        };
        this.startTimer = function () {
            _this.zone.runOutsideAngular(function () {
                var autoplay = _this.autoplayMode();
                if (autoplay && autoplay.enabled) {
                    _this.interval = setInterval(function () {
                        if (_this.timeLeft > 0) {
                            _this.timeLeft = _this.timeLeft - 100;
                        }
                        else {
                            _this.timeLeft = JSON.parse(JSON.stringify(autoplay.delay));
                            _this.actionDelay.next(autoplay.direction == 'left' ? _this.prevSlide : _this.nextSlide);
                        }
                    }, 100);
                }
            });
        };
        this.pauseTimer = function () {
            _this.zone.runOutsideAngular(function () {
                try {
                    var autoplay = _this.autoplayMode();
                    if (autoplay && autoplay.enabled) {
                        _this.timeLeft = JSON.parse(JSON.stringify(autoplay.delay));
                        clearInterval(_this.interval);
                    }
                    _this.timeLeft = JSON.parse(JSON.stringify(autoplay.delay));
                    delete _this.interval;
                }
                catch (_a) { }
            });
        };
        this.goToIndex = function (number) {
            if (_this.infiniteMode()) {
                _this.panTo(-_this.carouselItemWidth() * number);
            }
            else {
                if (number > -1 && number <= _this.data.length - _this.currentBreakpoint().number) {
                    _this.currentIndex(number);
                    _this.panTo(-_this.carouselItemWidth() * number);
                }
                if (number <= -1) {
                    _this.currentIndex(0);
                    _this.goToIndex(0);
                }
            }
            _this.currentIndex(number);
        };
        this.calculateMoved = function (e) {
            var moved = Math.round(Math.abs(e.deltaX) / _this.carouselItemWidth());
            return moved > 0 ? moved : 1;
        };
        this.loading = true;
        this.actionDelay = new Subject();
        this.throttleSub = this.actionDelay.asObservable();
        this.subRef = this.throttleSub.pipe(throttle(function (val) { return interval(_this.options.animation.animationTime + 100); })).subscribe(function (data) {
            data();
        });
    }
    NgxCarouselComponent.prototype.click = function (fn) {
        this.actionDelay.next(fn);
    };
    NgxCarouselComponent.prototype.ngOnInit = function () {
        this.dots = [];
    };
    NgxCarouselComponent.prototype.ngAfterViewInit = function () {
        this.init();
        this.loading = false;
        if (this.sufficientSlides()) {
            if (this.infiniteMode()) {
                this.addInfiniteElm();
            }
            if (this.autoplayMode()) {
                this.startTimer();
            }
        }
        this.goToIndex(this.current);
        this.rootElmWidth;
        this.setViewWidth();
        this.calculateDots();
    };
    NgxCarouselComponent.prototype.ngOnChanges = function () {
        if (this.sliderElement) {
            this.goToIndex(this.currentIndex());
        }
        if (this.elements()) {
            this.onResize();
        }
    };
    NgxCarouselComponent.prototype.ngOnDestroy = function () {
        this.pauseTimer();
        this.subRef.unsubscribe();
    };
    NgxCarouselComponent.prototype.onResize = function () {
        this.rootElmWidth;
        this.setViewWidth();
        this.calculateDots();
        if (this.sufficientSlides()) {
            if (this.infiniteMode()) {
                this.addInfiniteElm();
            }
        }
        this.goToIndex(this.currentIndex());
    };
    NgxCarouselComponent.prototype.sufficientSlides = function () {
        this.showArrows(this.data.length > this.currentBreakpoint().number);
        return this.data.length > this.currentBreakpoint().number;
    };
    NgxCarouselComponent.prototype.showArrows = function (state) {
        this.arrowsVisible = state;
    };
    NgxCarouselComponent.prototype.rootElmWidth = function () {
        return isPlatformBrowser(this.platformId) ? this.elements().rootElement.getBoundingClientRect().width : 100;
    };
    NgxCarouselComponent.prototype.carouselItemWidth = function () {
        if (this.data.length > this.currentBreakpoint().number) {
            return (this.carouselItemWidthVar = this.rootElmWidth() / this.currentBreakpoint().number);
        }
        else {
            return (this.carouselItemWidthVar = this.rootElmWidth() / this.data.length);
        }
    };
    NgxCarouselComponent.prototype.currentBreakpoint = function () {
        for (var i = 0; i < this.options.breakpoints.length; i++) {
            if (this.options.breakpoints[i].width > this.rootElmWidth()) {
                return this.options.breakpoints[i];
            }
        }
    };
    NgxCarouselComponent.prototype.elements = function () {
        if (this.sliderElement) {
            return {
                rootElement: this.sliderElement.nativeElement,
                containerElement: this.sliderElement.nativeElement.children[0],
                carouselItems: this.carouselItems.toArray().map(function (x) { return x.nativeElement; }),
            };
        }
        return;
    };
    NgxCarouselComponent.prototype.setViewWidth = function () {
        var _this = this;
        this._renderer.setStyle(this.elements().containerElement, 'display', 'inline-flex');
        this._renderer.setStyle(this.elements().containerElement, 'position', 'relative');
        this.elements().carouselItems.forEach(function (element) {
            _this._renderer.addClass(element, 'slide');
            _this._renderer.setStyle(element, 'width', _this.carouselItemWidth() + 'px');
            _this._renderer.setStyle(element, 'display', 'inline-flex');
        });
        if (this.infiniteMode()) {
            this.infiniteElmRefs.forEach(function (ref) {
                _this._renderer.addClass(ref.rootNodes[0], 'slide');
                _this._renderer.setStyle(ref.rootNodes[0], 'width', _this.carouselItemWidth() + 'px');
            });
        }
    };
    NgxCarouselComponent.prototype.hover = function () {
        if (this.autoplayMode()) {
            if (this.autoplayMode().stopOnHover) {
                this.pauseTimer();
            }
        }
    };
    NgxCarouselComponent.prototype.unhover = function () {
        if (this.autoplayMode()) {
            this.pauseTimer();
            this.startTimer();
        }
    };
    NgxCarouselComponent.prototype.calculateDots = function () {
        var _this = this;
        this.dots = [];
        if (this.infiniteMode()) {
            var number = this.data.length;
        }
        else {
            var number = this.data.length - this.currentBreakpoint().number + 1;
        }
        var results;
        if (number > 1) {
            var results_1 = Array.from(Array(Number(number.toFixed(0))).keys());
            this.dots = results_1;
        }
        else {
            results = [];
            this.dots = [];
        }
        if (!this.initialized) {
            this.zone.run(function () {
                setTimeout(function () {
                    _this.initialized = true;
                }, 100);
            });
        }
        return results;
    };
    NgxCarouselComponent.prototype.visibleElements = function () {
        return this.data.length - this.currentBreakpoint().number;
    };
    NgxCarouselComponent.prototype.addInfiniteElm = function () {
        this.infiniteElmRefs = [];
        if (this.infiniteContainer) {
            this.infiniteContainer.clear();
            for (var i = 1; i <= this.data.length; i++) {
                var elm = this.infiniteContainer.createEmbeddedView(this.contentContent, {
                    $implicit: this.data[this.data.length - i],
                    index: this.data.length - i,
                });
                this._renderer.setStyle(elm.rootNodes[0], 'position', 'absolute');
                this._renderer.setStyle(elm.rootNodes[0], 'transform', "translate3d(-" + 100 * i + "%, 0,0)");
                this._renderer.setStyle(elm.rootNodes[0], 'display', 'inline-flex');
                this._renderer.setStyle(elm.rootNodes[0], 'visibility', 'visible');
                this._renderer.setStyle(elm.rootNodes[0], 'width', this.carouselItemWidthVar + 'px');
                this._renderer.addClass(elm.rootNodes[0], 'slide');
                var elm2 = this.infiniteContainer.createEmbeddedView(this.contentContent, {
                    $implicit: this.data[i - 1],
                    index: i - 1,
                });
                this._renderer.setStyle(elm2.rootNodes[0], 'position', 'absolute');
                this._renderer.setStyle(elm2.rootNodes[0], 'right', 0);
                this._renderer.setStyle(elm2.rootNodes[0], 'top', 0);
                this._renderer.setStyle(elm2.rootNodes[0], 'transform', "translate3d(" + 100 * i + "%, 0,0)");
                this._renderer.setStyle(elm2.rootNodes[0], 'display', 'inline-flex');
                this._renderer.setStyle(elm2.rootNodes[0], 'visibility', 'visible');
                this._renderer.setStyle(elm2.rootNodes[0], 'width', this.carouselItemWidthVar + 'px');
                this._renderer.addClass(elm2.rootNodes[0], 'slide');
                elm.detectChanges();
                elm2.detectChanges();
                this.infiniteElmRefs.push(elm);
                this.infiniteElmRefs.push(elm2);
            }
        }
    };
    NgxCarouselComponent.prototype.infiniteHandler = function () {
        var _this = this;
        // this.removePanningClass()
        this.addAnimationClass();
        setTimeout(function () {
            _this.goToIndex(_this.currentIndex());
            _this.removeAnimationClass();
        }, this.options.animation.animationTime);
        if (0 > this.currentIndex()) {
            this.currentIndex(this.data.length - 1);
            setTimeout(function () {
                _this.removeAnimationClass();
                _this.goToIndex(_this.currentIndex(_this.data.length - 1));
            }, this.options.animation.animationTime + 40);
        }
        else if (this.data.length - 1 < this.currentIndex()) {
            this.currentIndex(0);
            setTimeout(function () {
                _this.removeAnimationClass();
                _this.goToIndex(_this.currentIndex(0));
            }, this.options.animation.animationTime + 40);
        }
        return;
    };
    NgxCarouselComponent.prototype.scrollToIndex = function (number) {
        this.addAnimationClass();
        this.goToIndex(number);
    };
    NgxCarouselComponent.prototype.infiniteMode = function () {
        return this.options.infinite;
    };
    NgxCarouselComponent.prototype.autoplayMode = function () {
        if (this.options.autoplay && this.options.autoplay.enabled) {
            return this.options.autoplay;
        }
        else {
            return false;
        }
    };
    NgxCarouselComponent.prototype.moveIndex = function (move) {
        return this.currentIndex() + move;
    };
    NgxCarouselComponent.prototype.init = function () {
        var _this = this;
        this.zone.runOutsideAngular(function () {
            if (_this.data.length > 1 && _this.sufficientSlides()) {
                var sliderManager = new Hammer.Manager(_this.elements().containerElement);
                sliderManager.add(new Hammer.Pan({ threshold: 0, pointers: 0 }));
                sliderManager.on('panleft panright panend pancancel', function (e) {
                    switch (e.type) {
                        case 'panleft':
                        case 'panright':
                            _this.pauseTimer();
                            if (!_this.grabbing) {
                                _this.removeAnimationClass();
                                _this.addPanningClass();
                            }
                            if (_this.options.drag.draggable) {
                                _this.panTo(-_this.current * _this.carouselItemWidthVar + 0 + e.deltaX);
                            }
                            break;
                        case 'pancancel':
                            _this.removePanningClass();
                            _this.addAnimationClass();
                            _this.goToIndex(_this.currentIndex());
                            break;
                        case 'panend':
                            // e.gesture.srcEvent.preventDefault()
                            _this.pauseTimer();
                            _this.removePanningClass();
                            _this.addAnimationClass();
                            var moved = _this.calculateMoved(e);
                            if (!_this.infiniteMode()) {
                                if (_this.outOfBound()) {
                                    _this.scrollBackToEdge();
                                    setTimeout(function () {
                                        _this.removeAnimationClass();
                                    }, _this.options.animation.animationTime);
                                    break;
                                }
                            }
                            if (_this.options.drag.draggable) {
                                if (_this.detectPanningLeft(e)) {
                                    _this.addAnimationClass();
                                    _this.goToIndex(_this.moveIndex(+moved));
                                    _this.infiniteHandler();
                                    setTimeout(function () {
                                        _this.removeAnimationClass();
                                    }, _this.options.animation.animationTime);
                                    break;
                                }
                                if (_this.detectPanningRight(e)) {
                                    _this.addAnimationClass();
                                    if (1.00000001 < _this.currentIndex() && _this.currentIndex() < 1.999999999999) {
                                        _this.goToIndex(Math.ceil(_this.moveIndex(-moved)));
                                    }
                                    else {
                                        _this.goToIndex(_this.moveIndex(-moved));
                                    }
                                    _this.infiniteHandler();
                                    setTimeout(function () {
                                        _this.removeAnimationClass();
                                    }, _this.options.animation.animationTime);
                                    break;
                                }
                            }
                            if (_this.options.swipe.swipeable) {
                                if (_this.detectSwipingLeft(e)) {
                                    _this.nextSlide();
                                    _this.infiniteHandler();
                                    if (!_this.infiniteMode()) {
                                        _this.addAnimationClass();
                                        if (0.00000001 < _this.currentIndex() && _this.currentIndex() < 0.999999999999) {
                                            _this.removeAnimationClass();
                                            _this.goToIndex(0);
                                        }
                                    }
                                    break;
                                }
                                if (_this.detectSwipingRight(e)) {
                                    _this.prevSlide();
                                    _this.infiniteHandler();
                                    if (!_this.infiniteMode()) {
                                        if (0.00000001 < _this.currentIndex() && _this.currentIndex() < 0.999999999999) {
                                            _this.addAnimationClass();
                                            _this.goToIndex(0);
                                            _this.removeAnimationClass();
                                        }
                                    }
                                    break;
                                }
                            }
                        // this.addAnimationClass()
                        // this.goToIndex(this.currentIndex())
                        // setTimeout(() => {
                        // 	this.removeAnimationClass()
                        // }, this.options.animation.animationTime)
                        // e.gesture.srcEvent.preventDefault()
                    }
                });
                return sliderManager;
            }
        });
    };
    NgxCarouselComponent.ctorParameters = function () { return [
        { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },
        { type: Renderer2 },
        { type: NgZone }
    ]; };
    __decorate([
        ViewChild('sliderElement', { static: false }),
        __metadata("design:type", ElementRef)
    ], NgxCarouselComponent.prototype, "sliderElement", void 0);
    __decorate([
        ViewChild('prevElement', { static: false }),
        __metadata("design:type", ElementRef)
    ], NgxCarouselComponent.prototype, "btnPrevElement", void 0);
    __decorate([
        ViewChild('nextElement', { static: false }),
        __metadata("design:type", ElementRef)
    ], NgxCarouselComponent.prototype, "btnNextElement", void 0);
    __decorate([
        ViewChild('progressElement', { static: false }),
        __metadata("design:type", ElementRef)
    ], NgxCarouselComponent.prototype, "progressContainerElement", void 0);
    __decorate([
        ContentChildren(NgxCarouselItemDirective, { read: ElementRef, descendants: true }),
        __metadata("design:type", QueryList)
    ], NgxCarouselComponent.prototype, "carouselItems", void 0);
    __decorate([
        ContentChild('carouselPrev', { static: false }),
        __metadata("design:type", TemplateRef)
    ], NgxCarouselComponent.prototype, "contentPrev", void 0);
    __decorate([
        ContentChild('carouselNext', { static: false }),
        __metadata("design:type", TemplateRef)
    ], NgxCarouselComponent.prototype, "contentNext", void 0);
    __decorate([
        ContentChild('carouselDot', { static: false }),
        __metadata("design:type", TemplateRef)
    ], NgxCarouselComponent.prototype, "dotElm", void 0);
    __decorate([
        ContentChild('carouselProgress', { static: false }),
        __metadata("design:type", TemplateRef)
    ], NgxCarouselComponent.prototype, "progressElm", void 0);
    __decorate([
        ContentChild('infiniteContainer', { static: false, read: ViewContainerRef }),
        __metadata("design:type", ViewContainerRef)
    ], NgxCarouselComponent.prototype, "infiniteContainer", void 0);
    __decorate([
        ContentChild('carouselContent', { static: false }),
        __metadata("design:type", TemplateRef)
    ], NgxCarouselComponent.prototype, "contentContent", void 0);
    __decorate([
        Input(),
        __metadata("design:type", Number)
    ], NgxCarouselComponent.prototype, "current", void 0);
    __decorate([
        Output(),
        __metadata("design:type", EventEmitter)
    ], NgxCarouselComponent.prototype, "currentChange", void 0);
    __decorate([
        Input(),
        __metadata("design:type", Array)
    ], NgxCarouselComponent.prototype, "data", void 0);
    __decorate([
        Input(),
        __metadata("design:type", ngxLightOptions)
    ], NgxCarouselComponent.prototype, "options", void 0);
    __decorate([
        HostListener('window:resize'),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", []),
        __metadata("design:returntype", void 0)
    ], NgxCarouselComponent.prototype, "onResize", null);
    __decorate([
        HostListener('mouseover'),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", []),
        __metadata("design:returntype", void 0)
    ], NgxCarouselComponent.prototype, "hover", null);
    __decorate([
        HostListener('mouseout'),
        __metadata("design:type", Function),
        __metadata("design:paramtypes", []),
        __metadata("design:returntype", void 0)
    ], NgxCarouselComponent.prototype, "unhover", null);
    NgxCarouselComponent = __decorate([ __param(0, Inject(PLATFORM_ID)),
        __metadata("design:paramtypes", [Object, Renderer2, NgZone])
    ], NgxCarouselComponent);
NgxCarouselComponent.ɵfac = function NgxCarouselComponent_Factory(t) { return new (t || NgxCarouselComponent)(ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone)); };
NgxCarouselComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: NgxCarouselComponent, selectors: [["ngx-light-carousel"]], contentQueries: function NgxCarouselComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        ɵngcc0.ɵɵcontentQuery(dirIndex, _c0, true);
        ɵngcc0.ɵɵcontentQuery(dirIndex, _c1, true);
        ɵngcc0.ɵɵcontentQuery(dirIndex, _c2, true);
        ɵngcc0.ɵɵcontentQuery(dirIndex, _c3, true);
        ɵngcc0.ɵɵcontentQuery(dirIndex, _c4, true, ViewContainerRef);
        ɵngcc0.ɵɵcontentQuery(dirIndex, _c5, true);
        ɵngcc0.ɵɵcontentQuery(dirIndex, NgxCarouselItemDirective, true, ElementRef);
    } if (rf & 2) {
        var _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.contentPrev = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.contentNext = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.dotElm = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.progressElm = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.infiniteContainer = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.contentContent = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.carouselItems = _t);
    } }, viewQuery: function NgxCarouselComponent_Query(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵviewQuery(_c6, true);
        ɵngcc0.ɵɵviewQuery(_c7, true);
        ɵngcc0.ɵɵviewQuery(_c8, true);
        ɵngcc0.ɵɵviewQuery(_c9, true);
    } if (rf & 2) {
        var _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.sliderElement = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.btnPrevElement = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.btnNextElement = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.progressContainerElement = _t.first);
    } }, hostBindings: function NgxCarouselComponent_HostBindings(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵlistener("resize", function NgxCarouselComponent_resize_HostBindingHandler() { return ctx.onResize(); }, false, ɵngcc0.ɵɵresolveWindow)("mouseover", function NgxCarouselComponent_mouseover_HostBindingHandler() { return ctx.hover(); })("mouseout", function NgxCarouselComponent_mouseout_HostBindingHandler() { return ctx.unhover(); });
    } }, inputs: { current: "current", data: "data", options: "options" }, outputs: { currentChange: "currentChange" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], ngContentSelectors: _c12, decls: 9, vars: 4, consts: [[1, "carousel"], ["sliderElement", ""], ["class", "direction left", 3, "click", 4, "ngIf"], ["class", "direction right", 3, "click", 4, "ngIf"], ["class", "indicators", 4, "ngIf"], [4, "ngIf"], [1, "mask"], [1, "direction", "left", 3, "click"], ["prevElement", ""], [4, "ngTemplateOutlet"], [1, "direction", "right", 3, "click"], ["nextElement", ""], [1, "indicators"], [3, "ngClass", "click", 4, "ngFor", "ngForOf"], [3, "ngClass", "click"], ["progressElement", ""]], template: function NgxCarouselComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵprojectionDef(_c11);
        ɵngcc0.ɵɵelementStart(0, "div", 0, 1);
        ɵngcc0.ɵɵprojection(2, 0, ["class", "content"]);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(3, NgxCarouselComponent_div_3_Template, 3, 1, "div", 2);
        ɵngcc0.ɵɵtemplate(4, NgxCarouselComponent_div_4_Template, 3, 1, "div", 3);
        ɵngcc0.ɵɵtemplate(5, NgxCarouselComponent_div_5_Template, 2, 1, "div", 4);
        ɵngcc0.ɵɵtemplate(6, NgxCarouselComponent_div_6_Template, 3, 1, "div", 5);
        ɵngcc0.ɵɵelementStart(7, "div", 6);
        ɵngcc0.ɵɵelementContainer(8);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngIf", ctx.options.arrows);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.options.arrows);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.initialized && ctx.options.indicators && (ctx.dots == null ? null : ctx.dots.length) > 1);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.progressElm && ctx.options.autoplay);
    } }, directives: [ɵngcc1.NgIf, ɵngcc1.NgTemplateOutlet, ɵngcc1.NgForOf, ɵngcc1.NgClass], styles: [".transition *{transition:transform .2s ease-out!important}:host{position:relative}.wrapper{position:relative;overflow-x:hidden;overflow-y:auto}.panning img{pointer-events:none}.carousel{overflow-x:hidden;position:relative;width:100%;height:100%;padding-bottom:30px}.carousel .content{display:-ms-inline-flexbox;display:inline-flex}.content{-ms-touch-action:pan-y!important;touch-action:pan-y!important;-webkit-backface-visibility:hidden;backface-visibility:hidden;will-change:transform,opacity;transform:translate3d();perspective:1000;transform:translateZ(0)}.content article{width:100%;display:block}.content article img{width:100%;display:block;background-size:cover;background-position:center}.slide{will-change:transform,opacity;transform:translate3d();-webkit-backface-visibility:hidden;backface-visibility:hidden;transform:translateZ(0);perspective:1000}.direction{background-repeat:no-repeat;width:5%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;height:100%;cursor:pointer;background-size:50%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;top:0;background-position:center center}.direction.left{left:0;background-image:url(\"data:image/svg+xml,%3Csvg%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20style%3D%22transform%3A%20scale(-1%2C1)%22%20viewBox%3D%220%200%201000%201000%22%20enable-background%3D%22new%200%200%201000%201000%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cmetadata%3E%20Svg%20Vector%20Icons%20%3A%20http%3A%2F%2Fwww.onlinewebfonts.com%2Ficon%20%3C%2Fmetadata%3E%0A%3Cg%3E%3Cpath%20d%3D%22M767.9%2C499.9L291.6%2C10l-59.4%2C61.3l416.6%2C428.7L232.1%2C928.7l59.5%2C61.3L767.9%2C499.9z%22%2F%3E%3C%2Fg%3E%0A%3C%2Fsvg%3E\")}.direction.right{right:0;background-image:url(data:image/svg+xml,%3Csvg%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%201000%201000%22%20enable-background%3D%22new%200%200%201000%201000%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cmetadata%3E%20Svg%20Vector%20Icons%20%3A%20http%3A%2F%2Fwww.onlinewebfonts.com%2Ficon%20%3C%2Fmetadata%3E%0A%3Cg%3E%3Cpath%20d%3D%22M767.9%2C499.9L291.6%2C10l-59.4%2C61.3l416.6%2C428.7L232.1%2C928.7l59.5%2C61.3L767.9%2C499.9z%22%2F%3E%3C%2Fg%3E%0A%3C%2Fsvg%3E)}.indicators{bottom:0;left:0;margin:0;padding:0;position:absolute;text-align:center;width:100%}.indicators li{cursor:pointer;display:inline-block;position:relative;margin:0 5px}.indicators li.active *{color:#000}.active .ball{background:#000;color:#000;opacity:1}.ball{width:10px;height:10px;border-radius:50%;background:#fff;border:2px solid #000}.grab{cursor:-webkit-grab;cursor:grab}.grabbing{cursor:-webkit-grabbing;cursor:grabbing}.mask{pointer-events:none;position:absolute;left:0;top:0;right:0;bottom:0}"], encapsulation: 2 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgxCarouselComponent, [{
        type: Component,
        args: [{
                selector: 'ngx-light-carousel',
                template: "<div #sliderElement class=\"carousel\">\n\t<!-- Carousel Content -->\n\t<ng-content class=\"content\" select=\"[ngx-light-carousel-container]\"> </ng-content>\n</div>\n<!-- Previous Slide -->\n<div *ngIf=\"options.arrows\" #prevElement (click)=\"click(prevSlide)\" class=\"direction left\">\n\t<ng-container *ngTemplateOutlet=\"contentPrev\"></ng-container>\n</div>\n<!-- Next Slide -->\n<div *ngIf=\"options.arrows\" #nextElement (click)=\"click(nextSlide)\" class=\"direction right\">\n\t<ng-container *ngTemplateOutlet=\"contentNext\"></ng-container>\n</div>\n<!-- Dots -->\n<div *ngIf=\"initialized && options.indicators && dots?.length > 1\" class=\"indicators\">\n\t<li *ngFor=\"let dot of dots; let i = index\" (click)=\"scrollToIndex(i)\" [ngClass]=\"{ active: current == i }\">\n\t\t<ng-container *ngTemplateOutlet=\"dotElm\"> </ng-container>\n\t</li>\n</div>\n<!-- Progress -->\n<div *ngIf=\"progressElm && options.autoplay\" #progressElement>\n\t<ng-container *ngTemplateOutlet=\"progressElm\"> </ng-container>\n</div>\n<!-- Mask -->\n<div class=\"mask\">\n\t<ng-container></ng-container>\n</div>\n",
                encapsulation: ViewEncapsulation.None,
                styles: [".transition *{transition:transform .2s ease-out!important}:host{position:relative}.wrapper{position:relative;overflow-x:hidden;overflow-y:auto}.panning img{pointer-events:none}.carousel{overflow-x:hidden;position:relative;width:100%;height:100%;padding-bottom:30px}.carousel .content{display:-ms-inline-flexbox;display:inline-flex}.content{-ms-touch-action:pan-y!important;touch-action:pan-y!important;-webkit-backface-visibility:hidden;backface-visibility:hidden;will-change:transform,opacity;transform:translate3d();perspective:1000;transform:translateZ(0)}.content article{width:100%;display:block}.content article img{width:100%;display:block;background-size:cover;background-position:center}.slide{will-change:transform,opacity;transform:translate3d();-webkit-backface-visibility:hidden;backface-visibility:hidden;transform:translateZ(0);perspective:1000}.direction{background-repeat:no-repeat;width:5%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;height:100%;cursor:pointer;background-size:50%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;top:0;background-position:center center}.direction.left{left:0;background-image:url(\"data:image/svg+xml,%3Csvg%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20style%3D%22transform%3A%20scale(-1%2C1)%22%20viewBox%3D%220%200%201000%201000%22%20enable-background%3D%22new%200%200%201000%201000%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cmetadata%3E%20Svg%20Vector%20Icons%20%3A%20http%3A%2F%2Fwww.onlinewebfonts.com%2Ficon%20%3C%2Fmetadata%3E%0A%3Cg%3E%3Cpath%20d%3D%22M767.9%2C499.9L291.6%2C10l-59.4%2C61.3l416.6%2C428.7L232.1%2C928.7l59.5%2C61.3L767.9%2C499.9z%22%2F%3E%3C%2Fg%3E%0A%3C%2Fsvg%3E\")}.direction.right{right:0;background-image:url(data:image/svg+xml,%3Csvg%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%201000%201000%22%20enable-background%3D%22new%200%200%201000%201000%22%20xml%3Aspace%3D%22preserve%22%3E%0A%3Cmetadata%3E%20Svg%20Vector%20Icons%20%3A%20http%3A%2F%2Fwww.onlinewebfonts.com%2Ficon%20%3C%2Fmetadata%3E%0A%3Cg%3E%3Cpath%20d%3D%22M767.9%2C499.9L291.6%2C10l-59.4%2C61.3l416.6%2C428.7L232.1%2C928.7l59.5%2C61.3L767.9%2C499.9z%22%2F%3E%3C%2Fg%3E%0A%3C%2Fsvg%3E)}.indicators{bottom:0;left:0;margin:0;padding:0;position:absolute;text-align:center;width:100%}.indicators li{cursor:pointer;display:inline-block;position:relative;margin:0 5px}.indicators li.active *{color:#000}.active .ball{background:#000;color:#000;opacity:1}.ball{width:10px;height:10px;border-radius:50%;background:#fff;border:2px solid #000}.grab{cursor:-webkit-grab;cursor:grab}.grabbing{cursor:-webkit-grabbing;cursor:grabbing}.mask{pointer-events:none;position:absolute;left:0;top:0;right:0;bottom:0}"]
            }]
    }], function () { return [{ type: Object, decorators: [{
                type: Inject,
                args: [PLATFORM_ID]
            }] }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.NgZone }]; }, { current: [{
            type: Input
        }], currentChange: [{
            type: Output
        }], onResize: [{
            type: HostListener,
            args: ['window:resize']
        }], hover: [{
            type: HostListener,
            args: ['mouseover']
        }], unhover: [{
            type: HostListener,
            args: ['mouseout']
        }], sliderElement: [{
            type: ViewChild,
            args: ['sliderElement', { static: false }]
        }], btnPrevElement: [{
            type: ViewChild,
            args: ['prevElement', { static: false }]
        }], btnNextElement: [{
            type: ViewChild,
            args: ['nextElement', { static: false }]
        }], progressContainerElement: [{
            type: ViewChild,
            args: ['progressElement', { static: false }]
        }], carouselItems: [{
            type: ContentChildren,
            args: [NgxCarouselItemDirective, { read: ElementRef, descendants: true }]
        }], contentPrev: [{
            type: ContentChild,
            args: ['carouselPrev', { static: false }]
        }], contentNext: [{
            type: ContentChild,
            args: ['carouselNext', { static: false }]
        }], dotElm: [{
            type: ContentChild,
            args: ['carouselDot', { static: false }]
        }], progressElm: [{
            type: ContentChild,
            args: ['carouselProgress', { static: false }]
        }], infiniteContainer: [{
            type: ContentChild,
            args: ['infiniteContainer', { static: false, read: ViewContainerRef }]
        }], contentContent: [{
            type: ContentChild,
            args: ['carouselContent', { static: false }]
        }], data: [{
            type: Input
        }], options: [{
            type: Input
        }] }); })();
    return NgxCarouselComponent;
}());
export { NgxCarouselComponent };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWxpZ2h0LWNhcm91c2VsLmNvbXBvbmVudC5qcyIsInNvdXJjZXMiOlsibmc6L25neC1saWdodC1jYXJvdXNlbC9saWIvbmd4LWxpZ2h0LWNhcm91c2VsLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0saUJBQWlCLENBQUE7QUFDbkQsT0FBTyxFQUNOLGFBQWEsRUFDYixTQUFTLEVBQ1QsWUFBWSxFQUNaLGVBQWUsRUFDZixVQUFVLEVBQ1YsZUFBZSxFQUNmLFlBQVksRUFDWixZQUFZLEVBQ1osTUFBTSxFQUNOLEtBQUssRUFDTCxNQUFNLEVBQ04sU0FBUyxFQUNULFNBQVMsRUFDVCxNQUFNLEVBQ04sTUFBTSxFQUNOLFdBQVcsRUFDWCxTQUFTLEVBQ1QsU0FBUyxFQUNULFdBQVcsRUFDWCxTQUFTLEVBQ1QsZ0JBQWdCLEVBQ2hCLGlCQUFpQixHQUNqQixNQUFNLGVBQWUsQ0FBQTtBQUN0QixPQUFPLEtBQUssTUFBTSxNQUFNLFVBQVUsQ0FBQTtBQUNsQyxPQUFPLEVBQUUsUUFBUSxFQUFjLE9BQU8sRUFBZ0IsTUFBTSxNQUFNLENBQUE7QUFDbEUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGdCQUFnQixDQUFBO0FBQ3pDLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLHFDQUFxQyxDQUFBO0FBQzlFLE9BQU8sRUFBb0IsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFROUU7QUFBd0QsSUE2QnZELDhCQUF5QyxVQUFrQixFQUFVLFNBQW9CLEVBQVUsSUFBWTtBQUNoSCxRQURDLGlCQU9DO0FBQ0YsUUFSMEMsZUFBVSxHQUFWLFVBQVUsQ0FBUTtBQUFDLFFBQVMsY0FBUyxHQUFULFNBQVMsQ0FBVztBQUFDLFFBQVMsU0FBSSxH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OUI7QUFFVztBQUVBO0FBQ2Usd0RBS3pCO0FBRUYsSUF5REM7QUFDRSxRQUZELFlBQVksQ0FBQyxXQUFXLENBQUM7QUFDMUI7QUFFSztBQUNOO0FBS2EscURBRlg7QUFFRixJQUNDO0FBQ0EsUUFGQyxZQUFZLENBQUMsVUFBVSxDQUFDO0FBQ3pCO0FBRUc7QUFJSjtBQUdHLHVEQUpEO0FBRUYsSUFwS2Esb0JBQW9CLHdCQU5oQyxTQUFTLENBQUMsY0FDVixqQ0FLTyxDQTZCTSxXQUFBLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQTtPQWxDeEIsRUFBRSxvQkFBb0IsY0FDOUIsM0NBaUNrQyx5Q0FBbUIsTUFBTSxFQUFxQixTQUFTLEVBQWdCLE1BQU07QUFBRyxPQTdCdEcsb0JBQW9CLENBeWpCaEM7Ozs7Ozs7Ozs7Ozs7c0VBN2pCa0QsY0FFbEQ7T0FBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7bURBQ3JDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBMmpCRjtBQUFDLElBREQsMkJBQUM7QUFDQSxDQURBLEFBempCRCxJQXlqQkM7QUFDRCxTQTFqQmEsb0JBQW9CO0FBQUkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1BsYXRmb3JtQnJvd3NlciB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbidcbmltcG9ydCB7XG5cdEFmdGVyVmlld0luaXQsXG5cdENvbXBvbmVudCxcblx0Q29udGVudENoaWxkLFxuXHRDb250ZW50Q2hpbGRyZW4sXG5cdEVsZW1lbnRSZWYsXG5cdEVtYmVkZGVkVmlld1JlZixcblx0RXZlbnRFbWl0dGVyLFxuXHRIb3N0TGlzdGVuZXIsXG5cdEluamVjdCxcblx0SW5wdXQsXG5cdE5nWm9uZSxcblx0T25DaGFuZ2VzLFxuXHRPbkRlc3Ryb3ksXG5cdE9uSW5pdCxcblx0T3V0cHV0LFxuXHRQTEFURk9STV9JRCxcblx0UXVlcnlMaXN0LFxuXHRSZW5kZXJlcjIsXG5cdFRlbXBsYXRlUmVmLFxuXHRWaWV3Q2hpbGQsXG5cdFZpZXdDb250YWluZXJSZWYsXG5cdFZpZXdFbmNhcHN1bGF0aW9uLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJ1xuaW1wb3J0ICogYXMgSGFtbWVyIGZyb20gJ2hhbW1lcmpzJ1xuaW1wb3J0IHsgaW50ZXJ2YWwsIE9ic2VydmFibGUsIFN1YmplY3QsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnXG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJ1xuaW1wb3J0IHsgTmd4Q2Fyb3VzZWxJdGVtRGlyZWN0aXZlIH0gZnJvbSAnLi9uZ3gtbGlnaHQtY2Fyb3VzZWwtaXRlbS5kaXJlY3RpdmUnXG5pbXBvcnQgeyBuZ3hMaWdodEF1dG9wbGF5LCBuZ3hMaWdodE9wdGlvbnMgfSBmcm9tICcuL25neC1saWdodC1jYXJvdXNlbC5tb2RlbCdcblxuQENvbXBvbmVudCh7XG5cdHNlbGVjdG9yOiAnbmd4LWxpZ2h0LWNhcm91c2VsJyxcblx0dGVtcGxhdGVVcmw6ICcuL25neC1saWdodC1jYXJvdXNlbC5jb21wb25lbnQuaHRtbCcsXG5cdHN0eWxlVXJsczogWycuL25neC1saWdodC1jYXJvdXNlbC5jb21wb25lbnQuc2NzcyddLFxuXHRlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxufSlcbmV4cG9ydCBjbGFzcyBOZ3hDYXJvdXNlbENvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsIE9uQ2hhbmdlcywgT25Jbml0LCBPbkRlc3Ryb3kge1xuXHRAVmlld0NoaWxkKCdzbGlkZXJFbGVtZW50JywgeyBzdGF0aWM6IGZhbHNlIH0pIHNsaWRlckVsZW1lbnQ6IEVsZW1lbnRSZWZcblx0QFZpZXdDaGlsZCgncHJldkVsZW1lbnQnLCB7IHN0YXRpYzogZmFsc2UgfSkgYnRuUHJldkVsZW1lbnQ6IEVsZW1lbnRSZWZcblx0QFZpZXdDaGlsZCgnbmV4dEVsZW1lbnQnLCB7IHN0YXRpYzogZmFsc2UgfSkgYnRuTmV4dEVsZW1lbnQ6IEVsZW1lbnRSZWZcblx0QFZpZXdDaGlsZCgncHJvZ3Jlc3NFbGVtZW50JywgeyBzdGF0aWM6IGZhbHNlIH0pIHByb2dyZXNzQ29udGFpbmVyRWxlbWVudDogRWxlbWVudFJlZlxuXHRAQ29udGVudENoaWxkcmVuKE5neENhcm91c2VsSXRlbURpcmVjdGl2ZSwgeyByZWFkOiBFbGVtZW50UmVmLCBkZXNjZW5kYW50czogdHJ1ZSB9KSBjYXJvdXNlbEl0ZW1zOiBRdWVyeUxpc3Q8RWxlbWVudFJlZj5cblx0QENvbnRlbnRDaGlsZCgnY2Fyb3VzZWxQcmV2JywgeyBzdGF0aWM6IGZhbHNlIH0pIGNvbnRlbnRQcmV2OiBUZW1wbGF0ZVJlZjxhbnk+XG5cdEBDb250ZW50Q2hpbGQoJ2Nhcm91c2VsTmV4dCcsIHsgc3RhdGljOiBmYWxzZSB9KSBjb250ZW50TmV4dDogVGVtcGxhdGVSZWY8YW55PlxuXHRAQ29udGVudENoaWxkKCdjYXJvdXNlbERvdCcsIHsgc3RhdGljOiBmYWxzZSB9KSBkb3RFbG06IFRlbXBsYXRlUmVmPGFueT5cblx0QENvbnRlbnRDaGlsZCgnY2Fyb3VzZWxQcm9ncmVzcycsIHsgc3RhdGljOiBmYWxzZSB9KSBwcm9ncmVzc0VsbTogVGVtcGxhdGVSZWY8YW55PlxuXHRAQ29udGVudENoaWxkKCdpbmZpbml0ZUNvbnRhaW5lcicsIHsgc3RhdGljOiBmYWxzZSwgcmVhZDogVmlld0NvbnRhaW5lclJlZiB9KSBpbmZpbml0ZUNvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZlxuXHRAQ29udGVudENoaWxkKCdjYXJvdXNlbENvbnRlbnQnLCB7IHN0YXRpYzogZmFsc2UgfSkgY29udGVudENvbnRlbnQ6IFRlbXBsYXRlUmVmPGFueT5cblx0QElucHV0KCkgY3VycmVudDogbnVtYmVyID0gMFxuXHRAT3V0cHV0KCkgY3VycmVudENoYW5nZTogRXZlbnRFbWl0dGVyPG51bWJlcj4gPSBuZXcgRXZlbnRFbWl0dGVyKClcblx0QElucHV0KCkgZGF0YTogYW55W11cblx0QElucHV0KCkgb3B0aW9uczogbmd4TGlnaHRPcHRpb25zXG5cdHByaXZhdGUgaW5maW5pdGVFbG1SZWZzOiBBcnJheTxFbWJlZGRlZFZpZXdSZWY8YW55Pj4gPSBbXVxuXHRwcml2YXRlIHRpbWVMZWZ0OiBudW1iZXIgPSAyMDAwXG5cdHByaXZhdGUgaW50ZXJ2YWxcblx0cHJpdmF0ZSBhY3Rpb25EZWxheTogU3ViamVjdDxhbnk+XG5cdGRvdHM6IG51bWJlcltdXG5cdGRvdHNMb2FkaW5nOiBib29sZWFuID0gdHJ1ZVxuXHRsb2FkaW5nOiBib29sZWFuID0gdHJ1ZVxuXHRncmFiYmluZzogYm9vbGVhbiA9IGZhbHNlXG5cdHRocm90dGxlU3ViOiBPYnNlcnZhYmxlPGFueT5cblx0c3ViUmVmOiBTdWJzY3JpcHRpb25cblx0YXJyb3dzVmlzaWJsZTogYm9vbGVhbiA9IHRydWVcblx0Y2Fyb3VzZWxJdGVtV2lkdGhWYXI6IG51bWJlclxuXHRpbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlXG5cdGNvbnN0cnVjdG9yKEBJbmplY3QoUExBVEZPUk1fSUQpIHByaXZhdGUgcGxhdGZvcm1JZDogT2JqZWN0LCBwcml2YXRlIF9yZW5kZXJlcjogUmVuZGVyZXIyLCBwcml2YXRlIHpvbmU6IE5nWm9uZSkge1xuXHRcdHRoaXMubG9hZGluZyA9IHRydWVcblx0XHR0aGlzLmFjdGlvbkRlbGF5ID0gbmV3IFN1YmplY3Q8YW55PigpXG5cdFx0dGhpcy50aHJvdHRsZVN1YiA9IHRoaXMuYWN0aW9uRGVsYXkuYXNPYnNlcnZhYmxlKClcblx0XHR0aGlzLnN1YlJlZiA9IHRoaXMudGhyb3R0bGVTdWIucGlwZSh0aHJvdHRsZSh2YWwgPT4gaW50ZXJ2YWwodGhpcy5vcHRpb25zLmFuaW1hdGlvbi5hbmltYXRpb25UaW1lICsgMTAwKSkpLnN1YnNjcmliZShkYXRhID0+IHtcblx0XHRcdGRhdGEoKVxuXHRcdH0pXG5cdH1cblxuXHRjbGljayhmbikge1xuXHRcdHRoaXMuYWN0aW9uRGVsYXkubmV4dChmbilcblx0fVxuXG5cdG5nT25Jbml0KCkge1xuXHRcdHRoaXMuZG90cyA9IFtdXG5cdH1cblxuXHRuZ0FmdGVyVmlld0luaXQoKSB7XG5cdFx0dGhpcy5pbml0KClcblx0XHR0aGlzLmxvYWRpbmcgPSBmYWxzZVxuXHRcdGlmICh0aGlzLnN1ZmZpY2llbnRTbGlkZXMoKSkge1xuXHRcdFx0aWYgKHRoaXMuaW5maW5pdGVNb2RlKCkpIHtcblx0XHRcdFx0dGhpcy5hZGRJbmZpbml0ZUVsbSgpXG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5hdXRvcGxheU1vZGUoKSkge1xuXHRcdFx0XHR0aGlzLnN0YXJ0VGltZXIoKVxuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLmdvVG9JbmRleCh0aGlzLmN1cnJlbnQpXG5cdFx0dGhpcy5yb290RWxtV2lkdGhcblx0XHR0aGlzLnNldFZpZXdXaWR0aCgpXG5cdFx0dGhpcy5jYWxjdWxhdGVEb3RzKClcblx0fVxuXG5cdG5nT25DaGFuZ2VzKCkge1xuXHRcdGlmICh0aGlzLnNsaWRlckVsZW1lbnQpIHtcblx0XHRcdHRoaXMuZ29Ub0luZGV4KHRoaXMuY3VycmVudEluZGV4KCkpXG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuZWxlbWVudHMoKSkge1xuXHRcdFx0dGhpcy5vblJlc2l6ZSgpXG5cdFx0fVxuXHR9XG5cblx0bmdPbkRlc3Ryb3koKSB7XG5cdFx0dGhpcy5wYXVzZVRpbWVyKClcblx0XHR0aGlzLnN1YlJlZi51bnN1YnNjcmliZSgpXG5cdH1cblxuXHRASG9zdExpc3RlbmVyKCd3aW5kb3c6cmVzaXplJylcblx0b25SZXNpemUoKSB7XG5cdFx0dGhpcy5yb290RWxtV2lkdGhcblx0XHR0aGlzLnNldFZpZXdXaWR0aCgpXG5cdFx0dGhpcy5jYWxjdWxhdGVEb3RzKClcblx0XHRpZiAodGhpcy5zdWZmaWNpZW50U2xpZGVzKCkpIHtcblx0XHRcdGlmICh0aGlzLmluZmluaXRlTW9kZSgpKSB7XG5cdFx0XHRcdHRoaXMuYWRkSW5maW5pdGVFbG0oKVxuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLmdvVG9JbmRleCh0aGlzLmN1cnJlbnRJbmRleCgpKVxuXHR9XG5cblx0c3VmZmljaWVudFNsaWRlcygpIHtcblx0XHR0aGlzLnNob3dBcnJvd3ModGhpcy5kYXRhLmxlbmd0aCA+IHRoaXMuY3VycmVudEJyZWFrcG9pbnQoKS5udW1iZXIpXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5sZW5ndGggPiB0aGlzLmN1cnJlbnRCcmVha3BvaW50KCkubnVtYmVyXG5cdH1cblxuXHRzaG93QXJyb3dzKHN0YXRlOiBib29sZWFuKSB7XG5cdFx0dGhpcy5hcnJvd3NWaXNpYmxlID0gc3RhdGVcblx0fVxuXG5cdHJvb3RFbG1XaWR0aCgpIHtcblx0XHRyZXR1cm4gaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSA/IHRoaXMuZWxlbWVudHMoKS5yb290RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCA6IDEwMFxuXHR9XG5cblx0Y2Fyb3VzZWxJdGVtV2lkdGgoKSB7XG5cdFx0aWYgKHRoaXMuZGF0YS5sZW5ndGggPiB0aGlzLmN1cnJlbnRCcmVha3BvaW50KCkubnVtYmVyKSB7XG5cdFx0XHRyZXR1cm4gKHRoaXMuY2Fyb3VzZWxJdGVtV2lkdGhWYXIgPSB0aGlzLnJvb3RFbG1XaWR0aCgpIC8gdGhpcy5jdXJyZW50QnJlYWtwb2ludCgpLm51bWJlcilcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuICh0aGlzLmNhcm91c2VsSXRlbVdpZHRoVmFyID0gdGhpcy5yb290RWxtV2lkdGgoKSAvIHRoaXMuZGF0YS5sZW5ndGgpXG5cdFx0fVxuXHR9XG5cblx0Y3VycmVudEJyZWFrcG9pbnQoKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9wdGlvbnMuYnJlYWtwb2ludHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmICh0aGlzLm9wdGlvbnMuYnJlYWtwb2ludHNbaV0ud2lkdGggPiB0aGlzLnJvb3RFbG1XaWR0aCgpKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLm9wdGlvbnMuYnJlYWtwb2ludHNbaV1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRlbGVtZW50cygpIHtcblx0XHRpZiAodGhpcy5zbGlkZXJFbGVtZW50KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRyb290RWxlbWVudDogdGhpcy5zbGlkZXJFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsXG5cdFx0XHRcdGNvbnRhaW5lckVsZW1lbnQ6IHRoaXMuc2xpZGVyRWxlbWVudC5uYXRpdmVFbGVtZW50LmNoaWxkcmVuWzBdIGFzIEhUTUxFbGVtZW50LFxuXHRcdFx0XHRjYXJvdXNlbEl0ZW1zOiB0aGlzLmNhcm91c2VsSXRlbXMudG9BcnJheSgpLm1hcCh4ID0+IHgubmF0aXZlRWxlbWVudCksXG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVyblxuXHR9XG5cblx0cHJpdmF0ZSBzZXRWaWV3V2lkdGgoKSB7XG5cdFx0dGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUodGhpcy5lbGVtZW50cygpLmNvbnRhaW5lckVsZW1lbnQsICdkaXNwbGF5JywgJ2lubGluZS1mbGV4Jylcblx0XHR0aGlzLl9yZW5kZXJlci5zZXRTdHlsZSh0aGlzLmVsZW1lbnRzKCkuY29udGFpbmVyRWxlbWVudCwgJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJylcblx0XHR0aGlzLmVsZW1lbnRzKCkuY2Fyb3VzZWxJdGVtcy5mb3JFYWNoKChlbGVtZW50OiBIVE1MRWxlbWVudCkgPT4ge1xuXHRcdFx0dGhpcy5fcmVuZGVyZXIuYWRkQ2xhc3MoZWxlbWVudCwgJ3NsaWRlJylcblx0XHRcdHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKGVsZW1lbnQsICd3aWR0aCcsIHRoaXMuY2Fyb3VzZWxJdGVtV2lkdGgoKSArICdweCcpXG5cdFx0XHR0aGlzLl9yZW5kZXJlci5zZXRTdHlsZShlbGVtZW50LCAnZGlzcGxheScsICdpbmxpbmUtZmxleCcpXG5cdFx0fSlcblx0XHRpZiAodGhpcy5pbmZpbml0ZU1vZGUoKSkge1xuXHRcdFx0dGhpcy5pbmZpbml0ZUVsbVJlZnMuZm9yRWFjaChyZWYgPT4ge1xuXHRcdFx0XHR0aGlzLl9yZW5kZXJlci5hZGRDbGFzcyhyZWYucm9vdE5vZGVzWzBdLCAnc2xpZGUnKVxuXHRcdFx0XHR0aGlzLl9yZW5kZXJlci5zZXRTdHlsZShyZWYucm9vdE5vZGVzWzBdLCAnd2lkdGgnLCB0aGlzLmNhcm91c2VsSXRlbVdpZHRoKCkgKyAncHgnKVxuXHRcdFx0fSlcblx0XHR9XG5cdH1cblxuXHRASG9zdExpc3RlbmVyKCdtb3VzZW92ZXInKVxuXHRob3ZlcigpIHtcblx0XHRpZiAodGhpcy5hdXRvcGxheU1vZGUoKSkge1xuXHRcdFx0aWYgKCh0aGlzLmF1dG9wbGF5TW9kZSgpIGFzIGFueSkuc3RvcE9uSG92ZXIpIHtcblx0XHRcdFx0dGhpcy5wYXVzZVRpbWVyKClcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRASG9zdExpc3RlbmVyKCdtb3VzZW91dCcpXG5cdHVuaG92ZXIoKSB7XG5cdFx0aWYgKHRoaXMuYXV0b3BsYXlNb2RlKCkpIHtcblx0XHRcdHRoaXMucGF1c2VUaW1lcigpXG5cdFx0XHR0aGlzLnN0YXJ0VGltZXIoKVxuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgY2FsY3VsYXRlRG90cygpIHtcblx0XHR0aGlzLmRvdHMgPSBbXVxuXHRcdGlmICh0aGlzLmluZmluaXRlTW9kZSgpKSB7XG5cdFx0XHR2YXIgbnVtYmVyID0gdGhpcy5kYXRhLmxlbmd0aFxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgbnVtYmVyID0gdGhpcy5kYXRhLmxlbmd0aCAtIHRoaXMuY3VycmVudEJyZWFrcG9pbnQoKS5udW1iZXIgKyAxXG5cdFx0fVxuXHRcdGxldCByZXN1bHRzXG5cdFx0aWYgKG51bWJlciA+IDEpIHtcblx0XHRcdGxldCByZXN1bHRzID0gQXJyYXkuZnJvbShBcnJheShOdW1iZXIobnVtYmVyLnRvRml4ZWQoMCkpKS5rZXlzKCkpXG5cdFx0XHR0aGlzLmRvdHMgPSByZXN1bHRzXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdHMgPSBbXVxuXHRcdFx0dGhpcy5kb3RzID0gW11cblx0XHR9XG5cdFx0aWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG5cdFx0XHR0aGlzLnpvbmUucnVuKCgpID0+IHtcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5pbml0aWFsaXplZCA9IHRydWVcblx0XHRcdFx0fSwgMTAwKVxuXHRcdFx0fSlcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdHNcblx0fVxuXG5cdGFkZFBhbm5pbmdDbGFzcyA9ICgpID0+IHtcblx0XHR0aGlzLmdyYWJiaW5nID0gdHJ1ZVxuXHRcdHRoaXMuX3JlbmRlcmVyLmFkZENsYXNzKHRoaXMuZWxlbWVudHMoKS5yb290RWxlbWVudCwgJ2dyYWJiaW5nJylcblx0XHR0aGlzLl9yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmVsZW1lbnRzKCkuY29udGFpbmVyRWxlbWVudCwgJ3Bhbm5pbmcnKVxuXHR9XG5cblx0cmVtb3ZlUGFubmluZ0NsYXNzID0gKCkgPT4ge1xuXHRcdHRoaXMuZ3JhYmJpbmcgPSBmYWxzZVxuXHRcdHRoaXMuX3JlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudHMoKS5yb290RWxlbWVudCwgJ2dyYWJiaW5nJylcblx0XHR0aGlzLl9yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmVsZW1lbnRzKCkuY29udGFpbmVyRWxlbWVudCwgJ3Bhbm5pbmcnKVxuXHR9XG5cblx0YWRkQW5pbWF0aW9uQ2xhc3MgPSAoKSA9PiB7XG5cdFx0aWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0aW9uQ2xhc3MgIT09ICcnKSB7XG5cdFx0XHR0aGlzLl9yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmVsZW1lbnRzKCkuY29udGFpbmVyRWxlbWVudCwgdGhpcy5vcHRpb25zLmFuaW1hdGlvbi5hbmltYXRpb25DbGFzcylcblx0XHR9XG5cdH1cblxuXHRyZW1vdmVBbmltYXRpb25DbGFzcyA9ICgpID0+IHtcblx0XHRpZiAodGhpcy5vcHRpb25zLmFuaW1hdGlvbi5hbmltYXRpb25DbGFzcyAhPT0gJycpIHtcblx0XHRcdHRoaXMuX3JlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudHMoKS5jb250YWluZXJFbGVtZW50LCB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uLmFuaW1hdGlvbkNsYXNzKVxuXHRcdH1cblx0fVxuXG5cdHBhblRvID0gKHZhbHVlOiBudW1iZXIpID0+IHtcblx0XHRpZiAoaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuXHRcdFx0dGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUodGhpcy5lbGVtZW50cygpLmNvbnRhaW5lckVsZW1lbnQsICd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlM2QoJHt2YWx1ZX1weCwgMCwwKWApXG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKHRoaXMuZWxlbWVudHMoKS5jb250YWluZXJFbGVtZW50LCAndHJhbnNmb3JtJywgYHRyYW5zbGF0ZTNkKCR7dmFsdWV9JSwgMCwwKWApXG5cdFx0fVxuXHR9XG5cblx0Y3VycmVudEluZGV4ID0gKG51bWJlcj86IG51bWJlcikgPT4ge1xuXHRcdGlmICghdGhpcy5pbmZpbml0ZU1vZGUoKSAmJiBudW1iZXIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYgKG51bWJlciA+PSAwKSB7XG5cdFx0XHRcdGlmIChudW1iZXIgPCAwKSB7XG5cdFx0XHRcdFx0dGhpcy5jdXJyZW50ID0gMFxuXHRcdFx0XHRcdC8vIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50QnJlYWtwb2ludCgpLm51bWJlciAlIDEgIT0gMCAmJiB0aGlzLmN1cnJlbnQgLSAxID4gdGhpcy5kYXRhLmxlbmd0aCkge1xuXHRcdFx0XHRcdC8vIFx0dGhpcy5jdXJyZW50ID0gdGhpcy5kYXRhLmxlbmd0aCArIDEgLSB0aGlzLmN1cnJlbnRCcmVha3BvaW50KCkubnVtYmVyXG5cdFx0XHRcdH0gZWxzZSBpZiAobnVtYmVyID4gdGhpcy5kYXRhLmxlbmd0aCAtIHRoaXMuY3VycmVudEJyZWFrcG9pbnQoKS5udW1iZXIpIHtcblx0XHRcdFx0XHR0aGlzLmN1cnJlbnQgPSB0aGlzLmRhdGEubGVuZ3RoIC0gdGhpcy5jdXJyZW50QnJlYWtwb2ludCgpLm51bWJlclxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuY3VycmVudCA9IG51bWJlclxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChudW1iZXIgIT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnQgPSBudW1iZXJcblx0XHR9XG5cdFx0dGhpcy56b25lLnJ1bigoKSA9PiB7XG5cdFx0XHR0aGlzLmN1cnJlbnQgPSB0aGlzLmN1cnJlbnRcblx0XHR9KVxuXHRcdHJldHVybiB0aGlzLmN1cnJlbnRcblx0fVxuXG5cdHNsb3dPbk91dE9mQm91bmRzID0gZSA9PiB7XG5cdFx0aWYgKCF0aGlzLm9wdGlvbnMuaW5maW5pdGUgJiYgdGhpcy5vdXRPZkJvdW5kKCkpIHtcblx0XHRcdGUuZGVsdGFYICo9IDAuMlxuXHRcdFx0ZS5kZWx0YVkgKj0gMC4yXG5cdFx0fVxuXHRcdHJldHVybiBlXG5cdH1cblxuXHRzY3JvbGxCYWNrVG9FZGdlID0gKCkgPT4ge1xuXHRcdGNvbnN0IHJvb3QgPSB0aGlzLmVsZW1lbnRzKCkucm9vdEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblx0XHRjb25zdCBjb250YWluZXIgPSB0aGlzLmVsZW1lbnRzKCkuY29udGFpbmVyRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXHRcdGlmIChjb250YWluZXIucmlnaHQgPCByb290LnJpZ2h0KSB7XG5cdFx0XHR0aGlzLmdvVG9JbmRleCh0aGlzLnZpc2libGVFbGVtZW50cygpKVxuXHRcdH1cblx0XHRpZiAocm9vdC5sZWZ0IC0gY29udGFpbmVyLmxlZnQgPCAwKSB7XG5cdFx0XHR0aGlzLmdvVG9JbmRleCgwKVxuXHRcdH1cblx0fVxuXG5cdG91dE9mQm91bmQgPSAoKSA9PiB7XG5cdFx0Y29uc3Qgcm9vdCA9IHRoaXMuZWxlbWVudHMoKS5yb290RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXHRcdGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZWxlbWVudHMoKS5jb250YWluZXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG5cdFx0aWYgKHJvb3QucmlnaHQgLSBjb250YWluZXIucmlnaHQgPiAwKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRJbmRleCh0aGlzLmRhdGEubGVuZ3RoIC0gMSlcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0fVxuXHRcdGlmIChyb290LmxlZnQgLSBjb250YWluZXIubGVmdCA8IDApIHtcblx0XHRcdHRoaXMuY3VycmVudEluZGV4KDApXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2Vcblx0fVxuXG5cdGRldGVjdFN3aXBpbmdMZWZ0ID0gZSA9PiB7XG5cdFx0cmV0dXJuIGUudmVsb2NpdHlYIDwgLXRoaXMub3B0aW9ucy5zd2lwZS5zd2lwZVZlbG9jaXR5XG5cdH1cblxuXHRkZXRlY3RTd2lwaW5nUmlnaHQgPSBlID0+IHtcblx0XHRyZXR1cm4gZS52ZWxvY2l0eVggPiB0aGlzLm9wdGlvbnMuc3dpcGUuc3dpcGVWZWxvY2l0eVxuXHR9XG5cblx0ZGV0ZWN0UGFubmluZ0xlZnQgPSBlID0+IHtcblx0XHRyZXR1cm4gZS52ZWxvY2l0eVggPCAxICYmIGUuZGlzdGFuY2UgPCAtdGhpcy5jYXJvdXNlbEl0ZW1XaWR0aFZhciAqIDEuNVxuXHR9XG5cblx0ZGV0ZWN0UGFubmluZ1JpZ2h0ID0gZSA9PiB7XG5cdFx0cmV0dXJuIGUudmVsb2NpdHlYID4gMSAmJiBlLmRpc3RhbmNlIDwgdGhpcy5jYXJvdXNlbEl0ZW1XaWR0aFZhciAqIDEuNVxuXHR9XG5cblx0dmlzaWJsZUVsZW1lbnRzKCkge1xuXHRcdHJldHVybiB0aGlzLmRhdGEubGVuZ3RoIC0gdGhpcy5jdXJyZW50QnJlYWtwb2ludCgpLm51bWJlclxuXHR9XG5cblx0bmV4dFNsaWRlID0gKCkgPT4ge1xuXHRcdHRoaXMuYWRkQW5pbWF0aW9uQ2xhc3MoKVxuXG5cdFx0aWYgKHRoaXMuZGF0YS5sZW5ndGggPiAxKSB7XG5cdFx0XHRpZiAoIXRoaXMuaW5maW5pdGVNb2RlKCkgJiYgdGhpcy52aXNpYmxlRWxlbWVudHMoKSA8IHRoaXMuY3VycmVudEluZGV4KCkpIHtcblx0XHRcdFx0dGhpcy5nb1RvSW5kZXgodGhpcy52aXNpYmxlRWxlbWVudHMoKSlcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuZ29Ub0luZGV4KHRoaXMuY3VycmVudEluZGV4KCkgKyAxKVxuXHRcdFx0fVxuXHRcdH1cblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdHRoaXMucmVtb3ZlQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdFx0dGhpcy5pbmZpbml0ZUhhbmRsZXIoKVxuXHRcdH0sIHRoaXMub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0aW9uVGltZSArIDQwKVxuXHR9XG5cblx0cHJldlNsaWRlID0gKCkgPT4ge1xuXHRcdHRoaXMuYWRkQW5pbWF0aW9uQ2xhc3MoKVxuXG5cdFx0aWYgKHRoaXMuZGF0YS5sZW5ndGggPiAxKSB7XG5cdFx0XHRpZiAoIXRoaXMuaW5maW5pdGVNb2RlKCkgJiYgMCA+PSB0aGlzLmN1cnJlbnRJbmRleCgpKSB7XG5cdFx0XHRcdHRoaXMuZ29Ub0luZGV4KHRoaXMuY3VycmVudEluZGV4KDApKVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5nb1RvSW5kZXgodGhpcy5jdXJyZW50SW5kZXgoKSAtIDEpXG5cdFx0XHR9XG5cdFx0fVxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0dGhpcy5yZW1vdmVBbmltYXRpb25DbGFzcygpXG5cdFx0XHR0aGlzLmluZmluaXRlSGFuZGxlcigpXG5cdFx0fSwgdGhpcy5vcHRpb25zLmFuaW1hdGlvbi5hbmltYXRpb25UaW1lICsgNDApXG5cdH1cblxuXHRhZGRJbmZpbml0ZUVsbSgpIHtcblx0XHR0aGlzLmluZmluaXRlRWxtUmVmcyA9IFtdXG5cdFx0aWYgKHRoaXMuaW5maW5pdGVDb250YWluZXIpIHtcblx0XHRcdHRoaXMuaW5maW5pdGVDb250YWluZXIuY2xlYXIoKVxuXG5cdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8PSB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0Y29uc3QgZWxtID0gdGhpcy5pbmZpbml0ZUNvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5jb250ZW50Q29udGVudCwge1xuXHRcdFx0XHRcdCRpbXBsaWNpdDogdGhpcy5kYXRhW3RoaXMuZGF0YS5sZW5ndGggLSBpXSxcblx0XHRcdFx0XHRpbmRleDogdGhpcy5kYXRhLmxlbmd0aCAtIGksXG5cdFx0XHRcdH0pXG5cdFx0XHRcdHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKGVsbS5yb290Tm9kZXNbMF0sICdwb3NpdGlvbicsICdhYnNvbHV0ZScpXG5cdFx0XHRcdHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKGVsbS5yb290Tm9kZXNbMF0sICd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlM2QoLSR7MTAwICogaX0lLCAwLDApYClcblx0XHRcdFx0dGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUoZWxtLnJvb3ROb2Rlc1swXSwgJ2Rpc3BsYXknLCAnaW5saW5lLWZsZXgnKVxuXHRcdFx0XHR0aGlzLl9yZW5kZXJlci5zZXRTdHlsZShlbG0ucm9vdE5vZGVzWzBdLCAndmlzaWJpbGl0eScsICd2aXNpYmxlJylcblx0XHRcdFx0dGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUoZWxtLnJvb3ROb2Rlc1swXSwgJ3dpZHRoJywgdGhpcy5jYXJvdXNlbEl0ZW1XaWR0aFZhciArICdweCcpXG5cdFx0XHRcdHRoaXMuX3JlbmRlcmVyLmFkZENsYXNzKGVsbS5yb290Tm9kZXNbMF0sICdzbGlkZScpXG5cblx0XHRcdFx0Y29uc3QgZWxtMiA9IHRoaXMuaW5maW5pdGVDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuY29udGVudENvbnRlbnQsIHtcblx0XHRcdFx0XHQkaW1wbGljaXQ6IHRoaXMuZGF0YVtpIC0gMV0sXG5cdFx0XHRcdFx0aW5kZXg6IGkgLSAxLFxuXHRcdFx0XHR9KVxuXHRcdFx0XHR0aGlzLl9yZW5kZXJlci5zZXRTdHlsZShlbG0yLnJvb3ROb2Rlc1swXSwgJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJylcblx0XHRcdFx0dGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUoZWxtMi5yb290Tm9kZXNbMF0sICdyaWdodCcsIDApXG5cdFx0XHRcdHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKGVsbTIucm9vdE5vZGVzWzBdLCAndG9wJywgMClcblx0XHRcdFx0dGhpcy5fcmVuZGVyZXIuc2V0U3R5bGUoZWxtMi5yb290Tm9kZXNbMF0sICd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlM2QoJHsxMDAgKiBpfSUsIDAsMClgKVxuXHRcdFx0XHR0aGlzLl9yZW5kZXJlci5zZXRTdHlsZShlbG0yLnJvb3ROb2Rlc1swXSwgJ2Rpc3BsYXknLCAnaW5saW5lLWZsZXgnKVxuXHRcdFx0XHR0aGlzLl9yZW5kZXJlci5zZXRTdHlsZShlbG0yLnJvb3ROb2Rlc1swXSwgJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpXG5cdFx0XHRcdHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKGVsbTIucm9vdE5vZGVzWzBdLCAnd2lkdGgnLCB0aGlzLmNhcm91c2VsSXRlbVdpZHRoVmFyICsgJ3B4Jylcblx0XHRcdFx0dGhpcy5fcmVuZGVyZXIuYWRkQ2xhc3MoZWxtMi5yb290Tm9kZXNbMF0sICdzbGlkZScpXG5cblx0XHRcdFx0ZWxtLmRldGVjdENoYW5nZXMoKVxuXHRcdFx0XHRlbG0yLmRldGVjdENoYW5nZXMoKVxuXG5cdFx0XHRcdHRoaXMuaW5maW5pdGVFbG1SZWZzLnB1c2goZWxtKVxuXHRcdFx0XHR0aGlzLmluZmluaXRlRWxtUmVmcy5wdXNoKGVsbTIpXG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBpbmZpbml0ZUhhbmRsZXIoKSB7XG5cdFx0Ly8gdGhpcy5yZW1vdmVQYW5uaW5nQ2xhc3MoKVxuXHRcdHRoaXMuYWRkQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0dGhpcy5nb1RvSW5kZXgodGhpcy5jdXJyZW50SW5kZXgoKSlcblx0XHRcdHRoaXMucmVtb3ZlQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdH0sIHRoaXMub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0aW9uVGltZSlcblx0XHRpZiAoMCA+IHRoaXMuY3VycmVudEluZGV4KCkpIHtcblx0XHRcdHRoaXMuY3VycmVudEluZGV4KHRoaXMuZGF0YS5sZW5ndGggLSAxKVxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdHRoaXMucmVtb3ZlQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdFx0XHR0aGlzLmdvVG9JbmRleCh0aGlzLmN1cnJlbnRJbmRleCh0aGlzLmRhdGEubGVuZ3RoIC0gMSkpXG5cdFx0XHR9LCB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uLmFuaW1hdGlvblRpbWUgKyA0MClcblx0XHR9IGVsc2UgaWYgKHRoaXMuZGF0YS5sZW5ndGggLSAxIDwgdGhpcy5jdXJyZW50SW5kZXgoKSkge1xuXHRcdFx0dGhpcy5jdXJyZW50SW5kZXgoMClcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHR0aGlzLnJlbW92ZUFuaW1hdGlvbkNsYXNzKClcblx0XHRcdFx0dGhpcy5nb1RvSW5kZXgodGhpcy5jdXJyZW50SW5kZXgoMCkpXG5cdFx0XHR9LCB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uLmFuaW1hdGlvblRpbWUgKyA0MClcblx0XHR9XG5cdFx0cmV0dXJuXG5cdH1cblxuXHRzdGFydFRpbWVyID0gKCkgPT4ge1xuXHRcdHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG5cdFx0XHR2YXIgYXV0b3BsYXkgPSB0aGlzLmF1dG9wbGF5TW9kZSgpIGFzIG5neExpZ2h0QXV0b3BsYXlcblx0XHRcdGlmIChhdXRvcGxheSAmJiBhdXRvcGxheS5lbmFibGVkKSB7XG5cdFx0XHRcdHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHRoaXMudGltZUxlZnQgPiAwKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnRpbWVMZWZ0ID0gdGhpcy50aW1lTGVmdCAtIDEwMFxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLnRpbWVMZWZ0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhdXRvcGxheS5kZWxheSkpXG5cdFx0XHRcdFx0XHR0aGlzLmFjdGlvbkRlbGF5Lm5leHQoYXV0b3BsYXkuZGlyZWN0aW9uID09ICdsZWZ0JyA/IHRoaXMucHJldlNsaWRlIDogdGhpcy5uZXh0U2xpZGUpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCAxMDApXG5cdFx0XHR9XG5cdFx0fSlcblx0fVxuXG5cdHBhdXNlVGltZXIgPSAoKSA9PiB7XG5cdFx0dGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhciBhdXRvcGxheSA9IHRoaXMuYXV0b3BsYXlNb2RlKCkgYXMgbmd4TGlnaHRBdXRvcGxheVxuXHRcdFx0XHRpZiAoYXV0b3BsYXkgJiYgYXV0b3BsYXkuZW5hYmxlZCkge1xuXHRcdFx0XHRcdHRoaXMudGltZUxlZnQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGF1dG9wbGF5LmRlbGF5KSlcblx0XHRcdFx0XHRjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy50aW1lTGVmdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYXV0b3BsYXkuZGVsYXkpKVxuXHRcdFx0XHRkZWxldGUgdGhpcy5pbnRlcnZhbFxuXHRcdFx0fSBjYXRjaCB7fVxuXHRcdH0pXG5cdH1cblxuXHRzY3JvbGxUb0luZGV4KG51bWJlcikge1xuXHRcdHRoaXMuYWRkQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdHRoaXMuZ29Ub0luZGV4KG51bWJlcilcblx0fVxuXG5cdGdvVG9JbmRleCA9IG51bWJlciA9PiB7XG5cdFx0aWYgKHRoaXMuaW5maW5pdGVNb2RlKCkpIHtcblx0XHRcdHRoaXMucGFuVG8oLXRoaXMuY2Fyb3VzZWxJdGVtV2lkdGgoKSAqIG51bWJlcilcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKG51bWJlciA+IC0xICYmIG51bWJlciA8PSB0aGlzLmRhdGEubGVuZ3RoIC0gdGhpcy5jdXJyZW50QnJlYWtwb2ludCgpLm51bWJlcikge1xuXHRcdFx0XHR0aGlzLmN1cnJlbnRJbmRleChudW1iZXIpXG5cdFx0XHRcdHRoaXMucGFuVG8oLXRoaXMuY2Fyb3VzZWxJdGVtV2lkdGgoKSAqIG51bWJlcilcblx0XHRcdH1cblx0XHRcdGlmIChudW1iZXIgPD0gLTEpIHtcblx0XHRcdFx0dGhpcy5jdXJyZW50SW5kZXgoMClcblx0XHRcdFx0dGhpcy5nb1RvSW5kZXgoMClcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5jdXJyZW50SW5kZXgobnVtYmVyKVxuXHR9XG5cblx0aW5maW5pdGVNb2RlKCkge1xuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuaW5maW5pdGVcblx0fVxuXG5cdGF1dG9wbGF5TW9kZSgpIHtcblx0XHRpZiAodGhpcy5vcHRpb25zLmF1dG9wbGF5ICYmIHRoaXMub3B0aW9ucy5hdXRvcGxheS5lbmFibGVkKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLmF1dG9wbGF5XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdH1cblx0fVxuXG5cdGNhbGN1bGF0ZU1vdmVkID0gZSA9PiB7XG5cdFx0Y29uc3QgbW92ZWQgPSBNYXRoLnJvdW5kKE1hdGguYWJzKGUuZGVsdGFYKSAvIHRoaXMuY2Fyb3VzZWxJdGVtV2lkdGgoKSlcblx0XHRyZXR1cm4gbW92ZWQgPiAwID8gbW92ZWQgOiAxXG5cdH1cblxuXHRtb3ZlSW5kZXgobW92ZTogbnVtYmVyKSB7XG5cdFx0cmV0dXJuIHRoaXMuY3VycmVudEluZGV4KCkgKyBtb3ZlXG5cdH1cblxuXHRpbml0KCkge1xuXHRcdHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG5cdFx0XHRpZiAodGhpcy5kYXRhLmxlbmd0aCA+IDEgJiYgdGhpcy5zdWZmaWNpZW50U2xpZGVzKCkpIHtcblx0XHRcdFx0dmFyIHNsaWRlck1hbmFnZXIgPSBuZXcgSGFtbWVyLk1hbmFnZXIodGhpcy5lbGVtZW50cygpLmNvbnRhaW5lckVsZW1lbnQpXG5cdFx0XHRcdHNsaWRlck1hbmFnZXIuYWRkKG5ldyBIYW1tZXIuUGFuKHsgdGhyZXNob2xkOiAwLCBwb2ludGVyczogMCB9KSlcblx0XHRcdFx0c2xpZGVyTWFuYWdlci5vbigncGFubGVmdCBwYW5yaWdodCBwYW5lbmQgcGFuY2FuY2VsJywgKGU6IEhhbW1lci5IYW1tZXJJbnB1dCkgPT4ge1xuXHRcdFx0XHRcdHN3aXRjaCAoZS50eXBlKSB7XG5cdFx0XHRcdFx0XHRjYXNlICdwYW5sZWZ0Jzpcblx0XHRcdFx0XHRcdGNhc2UgJ3BhbnJpZ2h0Jzpcblx0XHRcdFx0XHRcdFx0dGhpcy5wYXVzZVRpbWVyKClcblx0XHRcdFx0XHRcdFx0aWYgKCF0aGlzLmdyYWJiaW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5yZW1vdmVBbmltYXRpb25DbGFzcygpXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5hZGRQYW5uaW5nQ2xhc3MoKVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLm9wdGlvbnMuZHJhZy5kcmFnZ2FibGUpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnBhblRvKC10aGlzLmN1cnJlbnQgKiB0aGlzLmNhcm91c2VsSXRlbVdpZHRoVmFyICsgMCArIGUuZGVsdGFYKVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdFx0XHRjYXNlICdwYW5jYW5jZWwnOlxuXHRcdFx0XHRcdFx0XHR0aGlzLnJlbW92ZVBhbm5pbmdDbGFzcygpXG5cdFx0XHRcdFx0XHRcdHRoaXMuYWRkQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdFx0XHRcdFx0XHR0aGlzLmdvVG9JbmRleCh0aGlzLmN1cnJlbnRJbmRleCgpKVxuXHRcdFx0XHRcdFx0XHRicmVha1xuXHRcdFx0XHRcdFx0Y2FzZSAncGFuZW5kJzpcblx0XHRcdFx0XHRcdFx0Ly8gZS5nZXN0dXJlLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KClcblxuXHRcdFx0XHRcdFx0XHR0aGlzLnBhdXNlVGltZXIoKVxuXHRcdFx0XHRcdFx0XHR0aGlzLnJlbW92ZVBhbm5pbmdDbGFzcygpXG5cdFx0XHRcdFx0XHRcdHRoaXMuYWRkQW5pbWF0aW9uQ2xhc3MoKVxuXG5cdFx0XHRcdFx0XHRcdGxldCBtb3ZlZCA9IHRoaXMuY2FsY3VsYXRlTW92ZWQoZSlcblx0XHRcdFx0XHRcdFx0aWYgKCF0aGlzLmluZmluaXRlTW9kZSgpKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMub3V0T2ZCb3VuZCgpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnNjcm9sbEJhY2tUb0VkZ2UoKVxuXHRcdFx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdFx0XHRcdFx0XHRcdFx0fSwgdGhpcy5vcHRpb25zLmFuaW1hdGlvbi5hbmltYXRpb25UaW1lKVxuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy5vcHRpb25zLmRyYWcuZHJhZ2dhYmxlKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuZGV0ZWN0UGFubmluZ0xlZnQoZSkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYWRkQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5nb1RvSW5kZXgodGhpcy5tb3ZlSW5kZXgoK21vdmVkKSlcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuaW5maW5pdGVIYW5kbGVyKClcblx0XHRcdFx0XHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnJlbW92ZUFuaW1hdGlvbkNsYXNzKClcblx0XHRcdFx0XHRcdFx0XHRcdH0sIHRoaXMub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0aW9uVGltZSlcblxuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuZGV0ZWN0UGFubmluZ1JpZ2h0KGUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmFkZEFuaW1hdGlvbkNsYXNzKClcblx0XHRcdFx0XHRcdFx0XHRcdGlmICgxLjAwMDAwMDAxIDwgdGhpcy5jdXJyZW50SW5kZXgoKSAmJiB0aGlzLmN1cnJlbnRJbmRleCgpIDwgMS45OTk5OTk5OTk5OTkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5nb1RvSW5kZXgoTWF0aC5jZWlsKHRoaXMubW92ZUluZGV4KC1tb3ZlZCkpKVxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5nb1RvSW5kZXgodGhpcy5tb3ZlSW5kZXgoLW1vdmVkKSlcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuaW5maW5pdGVIYW5kbGVyKClcblx0XHRcdFx0XHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnJlbW92ZUFuaW1hdGlvbkNsYXNzKClcblx0XHRcdFx0XHRcdFx0XHRcdH0sIHRoaXMub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0aW9uVGltZSlcblxuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMub3B0aW9ucy5zd2lwZS5zd2lwZWFibGUpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAodGhpcy5kZXRlY3RTd2lwaW5nTGVmdChlKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5uZXh0U2xpZGUoKVxuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5pbmZpbml0ZUhhbmRsZXIoKVxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCF0aGlzLmluZmluaXRlTW9kZSgpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYWRkQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoMC4wMDAwMDAwMSA8IHRoaXMuY3VycmVudEluZGV4KCkgJiYgdGhpcy5jdXJyZW50SW5kZXgoKSA8IDAuOTk5OTk5OTk5OTk5KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5yZW1vdmVBbmltYXRpb25DbGFzcygpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5nb1RvSW5kZXgoMClcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuZGV0ZWN0U3dpcGluZ1JpZ2h0KGUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnByZXZTbGlkZSgpXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmluZmluaXRlSGFuZGxlcigpXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIXRoaXMuaW5maW5pdGVNb2RlKCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKDAuMDAwMDAwMDEgPCB0aGlzLmN1cnJlbnRJbmRleCgpICYmIHRoaXMuY3VycmVudEluZGV4KCkgPCAwLjk5OTk5OTk5OTk5OSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYWRkQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuZ29Ub0luZGV4KDApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5yZW1vdmVBbmltYXRpb25DbGFzcygpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIHRoaXMuYWRkQW5pbWF0aW9uQ2xhc3MoKVxuXHRcdFx0XHRcdFx0Ly8gdGhpcy5nb1RvSW5kZXgodGhpcy5jdXJyZW50SW5kZXgoKSlcblx0XHRcdFx0XHRcdC8vIHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0Ly8gXHR0aGlzLnJlbW92ZUFuaW1hdGlvbkNsYXNzKClcblx0XHRcdFx0XHRcdC8vIH0sIHRoaXMub3B0aW9ucy5hbmltYXRpb24uYW5pbWF0aW9uVGltZSlcblx0XHRcdFx0XHRcdC8vIGUuZ2VzdHVyZS5zcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXG5cdFx0XHRcdHJldHVybiBzbGlkZXJNYW5hZ2VyXG5cdFx0XHR9XG5cdFx0fSlcblx0fVxufVxuIl19